(()=>{var e,t={495:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({1:function(e,t,n,i,r){var l,a,o=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c="function",u=e.escapeExpression,m=e.lambda,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <option value="'+u(typeof(a=null!=(a=h(n,"time")||(null!=t?h(t,"time"):t))?a:s)===c?a.call(o,{name:"time",hash:{},data:r,loc:{start:{line:2,column:17},end:{line:2,column:25}}}):a)+" ("+u(m((l=r&&h(r,"root"))&&h(l,"direction"),t))+')">'+u(typeof(a=null!=(a=h(n,"time")||(null!=t?h(t,"time"):t))?a:s)===c?a.call(o,{name:"time",hash:{},data:r,loc:{start:{line:2,column:49},end:{line:2,column:57}}}):a)+" ("+u(m((l=r&&h(r,"root"))&&h(l,"direction"),t))+")</option>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var l,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(l=a(n,"each").call(null!=t?t:e.nullContext||{},null!=t?a(t,"schedule"):t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:3,column:9}}}))?l:""},useData:!0})},446:(e,t,n)=>{"use strict";var i=n(495);function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=function(){function e(t,n,r){var l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.form=t,this.abSchedule=n,this.baSchedule=r,this.form.elements["time-ab"].innerHTML=i({schedule:this.transformTime(n),direction:"из A в B"}),this.form.elements["time-ba"].innerHTML=i({schedule:this.transformTime(r),direction:"из B в A"}),this.form.elements.route.addEventListener("change",(function(){l.showTimeSelect()})),this.form.elements["time-ab"].addEventListener("change",(function(){l.filterBASchedule()})),this.form.elements.button.addEventListener("click",(function(e){e.preventDefault(),document.querySelector(".route__result").innerHTML=l.generateResult()}))}var t,n,l;return t=e,(n=[{key:"showTimeSelect",value:function(){var e=this.form.elements["time-ab"],t=this.form.elements["time-ba"];if("из A в B"===this.form.elements.route.value){this.form.elements["time-ab"].classList.remove("visually-hidden"),this.form.elements["time-ba"].classList.add("visually-hidden");for(var n=0;n<e.children.length;n++)e.children[n].removeAttribute("disabled");e.selectedIndex=0}if("из B в A"===this.form.elements.route.value){this.form.elements["time-ab"].classList.add("visually-hidden"),this.form.elements["time-ba"].classList.remove("visually-hidden");for(var i=0;i<t.children.length;i++)t.children[i].removeAttribute("disabled");t.selectedIndex=0}"из A в B и обратно в А"===this.form.elements.route.value&&(this.form.elements["time-ab"].classList.remove("visually-hidden"),this.form.elements["time-ba"].classList.remove("visually-hidden"),e.selectedIndex=0,this.filterBASchedule())}},{key:"transformTime",value:function(e){return e.map((function(e){var t=new Date("".concat(e," GMT+0300")),n=new Date(t.toString());return{time:n.getHours().toString().padStart(2,"0")+":"+n.getMinutes().toString().padStart(2,"0")}}))}},{key:"filterBASchedule",value:function(){for(var e=new Date("".concat(this.abSchedule[this.form.elements["time-ab"].selectedIndex]," GMT+0300")).getTime()+3e6,t=this.form.elements["time-ba"],n=0;n<t.children.length;n++)t.children[n].removeAttribute("disabled");for(var i=0;i<t.children.length;i++){if(!(e>=new Date("".concat(this.baSchedule[i]," GMT+0300")).getTime()))return void(t.selectedIndex=[i]);t.children[i].setAttribute("disabled","")}}},{key:"calculatePrice",value:function(){var e=700;return"из A в B и обратно в А"===this.form.elements.route.value&&(e=1200),e*this.form.elements.num.value}},{key:"calculateRouteTime",value:function(){var e=50;if("из A в B и обратно в А"===this.form.elements.route.value){var t=new Date("".concat(this.abSchedule[this.form.elements["time-ab"].selectedIndex]," GMT+0300")).getTime();e+=(new Date("".concat(this.baSchedule[this.form.elements["time-ba"].selectedIndex]," GMT+0300")).getTime()-t)/6e4}return e}},{key:"calculateEndTime",value:function(){if("из A в B"===this.form.elements.route.value){var e=new Date("".concat(this.abSchedule[this.form.elements["time-ab"].selectedIndex]," GMT+0300")).getTime();return new Date(e+3e6).toTimeString().split(" ")[0]}if("из B в A"===this.form.elements.route.value){var t=new Date("".concat(this.abSchedule[this.form.elements["time-ba"].selectedIndex]," GMT+0300")).getTime();return new Date(t+3e6).toTimeString().split(" ")[0]}if("из A в B и обратно в А"===this.form.elements.route.value){var n=new Date("".concat(this.abSchedule[this.form.elements["time-ab"].selectedIndex]," GMT+0300")).getTime();return new Date(n+6e4*this.calculateRouteTime()).toTimeString().split(" ")[0]}}},{key:"wordInflection",value:function(e,t){var n=(e=Math.abs(e)%100)%10;return e>10&&e<20?t[2]:n>1&&n<5?t[1]:1==n?t[0]:t[2]}},{key:"generateResult",value:function(){return"Вы выбрали ".concat(this.form.elements.num.value," ").concat(this.wordInflection(this.form.elements.num.value,["билет","билета","билетов"])," по маршруту ").concat(this.form.elements.route.value," стоимостью ").concat(this.calculatePrice()," рублей.\n<br>Это путешествие займет у вас ").concat(this.calculateRouteTime()," минут.<br>\nТеплоход отправляется в ").concat(this.form.elements["time-ab"].value.split(" ")[0],", а прибудет в ").concat(this.calculateEndTime(),".")}}])&&r(t.prototype,n),l&&r(t,l),Object.defineProperty(t,"prototype",{writable:!1}),e}();new l(document.forms["form-route"],["08/21/2021 18:00:00","08/21/2021 18:30:00","08/21/2021 18:45:00","08/21/2021 19:00:00","08/21/2021 19:15:00","08/21/2021 21:00:00"],["08/21/2021 18:30:00","08/21/2021 18:45:00","08/21/2021 19:00:00","08/21/2021 19:15:00","08/21/2021 19:35:00","08/21/2021 21:50:00","08/21/2021 21:55:00"])}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var l=n[e]={exports:{}};return t[e](l,l.exports,i),l.exports}i.m=t,e=[],i.O=(t,n,r,l)=>{if(!n){var a=1/0;for(u=0;u<e.length;u++){for(var[n,r,l]=e[u],o=!0,s=0;s<n.length;s++)(!1&l||a>=l)&&Object.keys(i.O).every((e=>i.O[e](n[s])))?n.splice(s--,1):(o=!1,l<a&&(a=l));if(o){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[n,r,l]},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={787:0};i.O.j=t=>0===e[t];var t=(t,n)=>{var r,l,[a,o,s]=n,c=0;if(a.some((t=>0!==e[t]))){for(r in o)i.o(o,r)&&(i.m[r]=o[r]);if(s)var u=s(i)}for(t&&t(n);c<a.length;c++)l=a[c],i.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return i.O(u)},n=self.webpackChunknovatrip_test=self.webpackChunknovatrip_test||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=i.O(void 0,[202],(()=>i(446)));r=i.O(r)})();